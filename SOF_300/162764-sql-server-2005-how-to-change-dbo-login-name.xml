<?xml version="1.0" encoding="utf-8"?>
<post><title>Sql Server 2005 how to change dbo login name - Stack Overflow</title><question><text><div class="post-text" itemprop="text">
<p>I have a database with user 'dbo' that has a login name "domain\xzy".  How do I change it from "domain\xzy" to "domain\abc".</p>
</div></text><author><a href="/users/24522/phantomtypist">PhantomTypist</a></author><comments/></question><answers><answer><text><div class="post-text" itemprop="text">
<p>I figured it out. Within SQL Management Studio you have to right-click on the database -&gt; Properties -&gt; Files -&gt; Owner field. Change this field to the login name/account that you want associated with the "dbo" username for that database. Please keep in mind that the login name/account you choose must already be setup in the sql server under Security -&gt; Logins</p>
</div></text><author><a href="/users/24522/phantomtypist">PhantomTypist</a></author><comments><comment><text><span class="comment-copy">I needed to know this, 2 years later -- thank you.</span></text><author><a class="comment-user" href="/users/215752/hogan" title="47,872 reputation">Hogan</a></author></comment><comment><text><span class="comment-copy">Thats a great find! +1</span></text><author><a class="comment-user" href="/users/15233/sprintstar" title="5,081 reputation">Sprintstar</a></author></comment><comment><text><span class="comment-copy">Or make the same change via code:  use someDB;go;exec sp_changedbowner 'newOwner'</span></text><author><a class="comment-user" href="/users/120003/ryan-fisher" title="220 reputation">Ryan Fisher</a></author></comment><comment><text><span class="comment-copy">And I needed it 4 years later :)</span></text><author><a class="comment-user" href="/users/536226/nima" title="2,855 reputation">nima</a></author></comment><comment><text><span class="comment-copy">6 years later, this is still a key piece of knowledge! :)</span></text><author><a class="comment-user" href="/users/425809/richard" title="4,091 reputation">Richard</a></author></comment><comment><text><span class="comment-copy">8 years later, this fix has a great shelf life!</span></text><author><a class="comment-user" href="/users/424323/sm%c3%b6rg%c3%a5sbord" title="53 reputation">Smörgåsbord</a></author></comment><comment><text><span class="comment-copy">This answer is still correct in Dec of 2016</span></text><author><a class="comment-user" href="/users/840895/duane-lawrence" title="121 reputation">Duane Lawrence</a></author></comment></comments></answer><answer><text><div class="post-text" itemprop="text">
<p>If you are trying to remap a login to a db user you can use sp_change_user_login</p>
<p>exec sp_change_user_login 'Update_One', 'user', 'login'</p>
</div></text><author><a href="/users/24500/thad">Thad</a></author><comments><comment><text><span class="comment-copy">The sproc appears to be 'sp_change_users_login' (i.e. <i>users</i>). FYI the BOL also states that it's deprecated and ALTER USER should be used instead in the future.</span></text><author><a class="comment-user" href="/users/106119/chris-oldwood" title="604 reputation">Chris Oldwood</a></author></comment><comment><text><span class="comment-copy">Although usually this would work, the stored proc quite specifically <b>rejects</b> an attempt to alter the <b>dbo</b> user in this manner.</span></text><author><a class="comment-user" href="/users/224704/craig-young" title="9,750 reputation">Craig Young</a></author></comment></comments></answer><answer><text><div class="post-text" itemprop="text">
<p>This is a Windows login, not a SQL Server login, so you cannot 'change' the login name since it is linked to the user account in Active Directory. </p>
<p>Create a new Server Login (Windows) mapped to the new windows user (and remove the old one if necessary). Then in login's Security &gt; User Mapping, permission that login to the appropriate database as user 'dbo' (or assign to the db_owner role)</p>
</div></text><author><a href="/users/21576/user21576">user21576</a></author><comments><comment><text><span class="comment-copy">I suspect you're not properly understanding the SQL Server security model. The <i>whole server instance</i> has <b>logins</b> associated with the server. These may be SQL or Windows logins. Each database on the server has a number of <b>users</b> with permissions to access that database. The database <b>user</b> is associated with a SQL <b>login</b> which are usually (but not required to be) the same. <b>dbo</b> is a <i>special user</i> on each database. OP is not trying to and a new arbitrary user with db_owner rights to the database - he's trying to associate a different server login with the standard <b>dbo</b> user.</span></text><author><a class="comment-user" href="/users/224704/craig-young" title="9,750 reputation">Craig Young</a></author></comment></comments></answer><answer><text><div class="post-text" itemprop="text">
<p>PantomTypist gives a good answer using the GUI.  For achieving the same result with TSQL, you can use this code:</p>
<pre class="lang-sql prettyprint prettyprinted" style=""><code><span class="kwd">USE</span><span class="pln"> </span><span class="pun">[</span><span class="pln">My_Database_Name</span><span class="pun">]</span><span class="pln">
GO
</span><span class="kwd">EXEC</span><span class="pln"> dbo</span><span class="pun">.</span><span class="pln">sp_changedbowner </span><span class="pun">@</span><span class="pln">loginame </span><span class="pun">=</span><span class="pln"> N</span><span class="str">'domain\abc'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">@</span><span class="pln">map </span><span class="pun">=</span><span class="pln"> false
GO</span></code></pre>
</div></text><author><a href="/users/914490/mike">Mike</a></author><comments/></answer></answers></post>