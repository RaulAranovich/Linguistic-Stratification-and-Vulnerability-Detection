<?xml version="1.0" encoding="utf-8"?>
<post><title>php - Why is the standard session lifetime 24 minutes (1440 seconds)? - Stack Overflow</title><question><text><div class="post-text" itemprop="text">
<p>I've been doing some research on PHP Session Handling and came across the <code>session.gc_maxlifetime</code> value of 1440 seconds.
I've been wondering why the standard value is 1440 and how it is calculated?
What is the basis for this calculation?</p>
<p>How long does it make sense to keep sessions? What min/max values for session.gc_maxlifetime would you recommend?
The higher the value, the more vulnerable the Web-App is for Session Hijacking, I'd say.</p>
</div></text><author><a href="/users/468107/doug">Doug</a></author><comments><comment><text><span class="comment-copy"><code>+1</code> Nice question. Something related to, 60 x 12 x 2... Lets wait for interesting answers... :)</span></text><author><a class="comment-user" href="/users/462627/praveen-kumar" title="110,180 reputation">Praveen Kumar</a></author></comment><comment><text><span class="comment-copy">Here's <a href="https://github.com/php/php-src/blob/master/ext/session/session.c#L714" rel="nofollow noreferrer">the source code line where default value is set</a>. Those familiar with GIT may be able to track its history and maybe find a RFC or bug ticket (if any).</span></text><author><a class="comment-user" href="/users/13508/%c3%81lvaro-gonz%c3%a1lez" title="88,106 reputation">Álvaro González</a></author></comment><comment><text><span class="comment-copy"><a href="http://stackoverflow.com/questions/156712/php-what-is-the-default-lifetime-of-a-session" title="php what is the default lifetime of a session">stackoverflow.com/questions/156712/…</a> might help some earlier discussion done on this</span></text><author><a class="comment-user" href="/users/237743/anil-namde" title="2,833 reputation">Anil Namde</a></author></comment><comment><text><span class="comment-copy">@Anil: This discussion does not answer my question.</span></text><author><a class="comment-user owner" href="/users/865443/anna-v%c3%b6lkl" title="781 reputation">Anna Völkl</a></author></comment><comment><text><span class="comment-copy">@ÁlvaroG.Vicario I found the change: <a href="https://github.com/php/php-src/commit/d8a9548cb2468c7ac7981b7a3c441e918482d7e3" rel="nofollow noreferrer">github.com/php/php-src/commit/…</a> however there is zero relevant associated documentation. <code>1440</code> was indeed the original number of minutes for the timeout, so I guess we'll never know unless someone tracks down Sascha Schumann.</span></text><author><a class="comment-user" href="/users/159145/dai" title="54,347 reputation">Dai</a></author></comment><comment><text><span class="comment-copy">I found Sascha's email address and contacted him about this, I'll let people know if he responds.</span></text><author><a class="comment-user" href="/users/159145/dai" title="54,347 reputation">Dai</a></author></comment></comments></question><answers><answer><text><div class="post-text" itemprop="text">
<p>The real answer is probably very close to this:</p>
<p>Back during PHP3 days, PHP itself had no session support.  </p>
<p>But an open-source library called PHPLIB, initially written by Boris Erdmann and Kristian Koehntopp from NetUSE AG, provided sessions via PHP3 code.  </p>
<p>Session lifetimes were defined in <strong>minutes</strong>, not seconds.  And the default lifetime was 1440 minutes, or exactly one day.  Here's that line of code from PHPLIB:</p>
<pre class="lang-php prettyprint prettyprinted" style=""><code><span class="kwd">var</span><span class="pln"> $gc_time  </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1440</span><span class="pun">;</span><span class="pln">       </span><span class="com">## Purge all session data older than 1440 minutes.</span></code></pre>
<p>Sascha Schumann was involved with the PHPLIB project around the period of 1998 to 2000.  There's no doubt he was familiar with the PHP3 session code.</p>
<p>Then PHP4 came out in the year 2000 with native session support, but now the lifetime was specified in seconds.</p>
<p>I'll bet someone just never bothered converting minutes to seconds.  It's probable that person was Sascha.  Once he coded it into Zend engine, it became the configuration (<code>php.ini</code>) default as well.</p>
</div></text><author><a href="/users/1382828/cxj">CXJ</a></author><comments><comment><text><span class="comment-copy">It strikes to one's eyes that 24 gets a special meaning when changing the unit. So out of the given answers yours makes the most sense to me.</span></text><author><a class="comment-user" href="/users/1346207/markus-malkusch" title="4,472 reputation">Markus Malkusch</a></author></comment><comment><text><span class="comment-copy">That's interesting. Thanks for sharing! :)</span></text><author><a class="comment-user" href="/users/4808250/sysvoid" title="362 reputation">SysVoid</a></author></comment><comment><text><span class="comment-copy">This is really interesting! Thanks!</span></text><author><a class="comment-user owner" href="/users/865443/anna-v%c3%b6lkl" title="781 reputation">Anna Völkl</a></author></comment></comments></answer><answer><text><div class="post-text" itemprop="text">
<p>1440 is used in a time calculation turning seconds into hours/days.</p>
<ul>
<li>1 day = 24 hours ( hours * 24 = 1 day )</li>
<li>day = 1440 minutes ( minutes * 60 * 24 = 1 day )</li>
<li>day = 86400 seconds ( seconds * 60 * 1440 = 1 day )</li>
</ul>
<p>Example:</p>
<blockquote>
<p>9 days [* 60] = 540 [* 1440] = 777600 seconds</p>
</blockquote>
<p>The same is true in reverse:</p>
<blockquote>
<p>777600 seconds [/ 1440] = 540 [/ 60] = 9 days</p>
</blockquote>
</div></text><author><a href="/users/1052479/steve-terjeson">Steve Terjeson</a></author><comments><comment><text><span class="comment-copy">so why is it the standard session lifetime?</span></text><author><a class="comment-user" href="/users/576767/f%c3%a9lix-gagnon-grenier" title="4,293 reputation">Félix Gagnon-Grenier</a></author></comment><comment><text><span class="comment-copy">Because its a math nerd number thats approximately the same as what research shows is the largest time between two request in the same session (20-30 minutes).</span></text><author><a class="comment-user" href="/users/4949389/dimitar-veselinov" title="118 reputation">dimitar veselinov</a></author></comment><comment><text><span class="comment-copy">@dimitarveselinov Which research?</span></text><author><a class="comment-user" href="/users/1346207/markus-malkusch" title="4,472 reputation">Markus Malkusch</a></author></comment></comments></answer></answers></post>